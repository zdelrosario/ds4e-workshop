
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intro to Data Wrangling and Tidy Data &#8212; Materials Informatics 101</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">Materials Informatics 101</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Materials Informatics 101
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../setup.html">
   Software Setup
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../exercises.html">
   Exercise Notebooks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="00_tabula-webplotdigitizer_assignment.html">
     Data Extraction and Management
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="01_python_assignment.html">
     Intro to Python and Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_tidy_assignment.html">
     Intro to Data Wrangling and Tidy Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_data_assignment.html">
     Programmatic Data Operations
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/02_tidy_solution.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/zdelrosario/Materials Informatics 101"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/zdelrosario/Materials Informatics 101/issues/new?title=Issue%20on%20page%20%2Fnotebooks/02_tidy_solution.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/zdelrosario/Materials Informatics 101/main?urlpath=tree/docs/notebooks/02_tidy_solution.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#learning-outcomes">
   Learning outcomes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#q1-complete-the-code-below-to-rename-the-columns">
   <strong>
    Q1
   </strong>
   : Complete the code below to rename the columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#q2-complete-the-data-dictionary-below-to-document-the-units-associated-with-the-short-column-names">
   <strong>
    Q2
   </strong>
   : Complete the
   <em>
    data dictionary
   </em>
   below to document the units associated with the short column names.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pivoting">
   Pivoting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidy-data">
   Tidy Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-wrangling">
   Data Wrangling
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q3-convert-the-units-to-mpa">
     <strong>
      Q3
     </strong>
     : Convert the units to MPa.
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="intro-to-data-wrangling-and-tidy-data">
<h1>Intro to Data Wrangling and Tidy Data<a class="headerlink" href="#intro-to-data-wrangling-and-tidy-data" title="Permalink to this headline">¶</a></h1>
<p><em>Author</em>: Zach del Rosario</p>
<div class="section" id="learning-outcomes">
<h2>Learning outcomes<a class="headerlink" href="#learning-outcomes" title="Permalink to this headline">¶</a></h2>
<p>By working through this notebook, you will be able to:</p>
<ul class="simple">
<li><p>State the basic ideas of tidy data</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">grama</span> <span class="k">as</span> <span class="nn">gr</span>

<span class="n">DF</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Intention</span><span class="p">()</span>

<span class="c1"># For downloading data</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
</div>
</div>
<p>The following code downloads the same data you extracted in the previous day’s Tabula exercise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filename for local data</span>
<span class="n">filename_data</span> <span class="o">=</span> <span class="s2">&quot;./data/tabula-weibull.csv&quot;</span>

<span class="c1"># The following code downloads the data, or (after downloaded)</span>
<span class="c1"># loads the data from a cached CSV on your machine</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filename_data</span><span class="p">):</span>
    <span class="c1"># Make request for data</span>
    <span class="n">url_data</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/zdelrosario/mi101/main/mi101/data/tabula-weibull1939-table4.csv&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_data</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">open</span><span class="p">(</span><span class="n">filename_data</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   Tabula-extracted data downloaded from public Google sheet&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Note data already exists</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   Tabula-extracted data loaded locally&quot;</span><span class="p">)</span>
    
<span class="c1"># Read the data into memory</span>
<span class="n">df_tabula</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Tabula-extracted data loaded locally
</pre></div>
</div>
</div>
</div>
<p>These are data on the tensile strength of specimens of stearic acid and plaster-of-paris.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tabula</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>No.</th>
      <th>Area mm^2</th>
      <th>sigma_d kg/mm^2</th>
      <th>No..1</th>
      <th>Area mm^2.1</th>
      <th>sigma_d kg/mm^2.1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>0.61</td>
      <td>14.0</td>
      <td>23.10</td>
      <td>0.58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.31</td>
      <td>0.60</td>
      <td>15.0</td>
      <td>21.91</td>
      <td>0.62</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>23.00</td>
      <td>0.50</td>
      <td>16.0</td>
      <td>23.23</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>14.18</td>
      <td>0.63</td>
      <td>17.0</td>
      <td>25.80</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>22.03</td>
      <td>0.48</td>
      <td>18.0</td>
      <td>20.68</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>22.79</td>
      <td>0.60</td>
      <td>19.0</td>
      <td>15.90</td>
      <td>0.59</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>28.88</td>
      <td>0.56</td>
      <td>20.0</td>
      <td>16.47</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>17.79</td>
      <td>0.59</td>
      <td>21.0</td>
      <td>18.75</td>
      <td>0.54</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>23.60</td>
      <td>0.60</td>
      <td>22.0</td>
      <td>17.91</td>
      <td>0.55</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>23.60</td>
      <td>0.52</td>
      <td>23.0</td>
      <td>25.55</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>28.51</td>
      <td>0.57</td>
      <td>24.0</td>
      <td>22.03</td>
      <td>0.48</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>25.93</td>
      <td>0.55</td>
      <td>25.0</td>
      <td>20.96</td>
      <td>0.47</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>22.97</td>
      <td>0.59</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Note that Pandas renamed some columns to avoid giving us duplicate column names. The names are useful for holding metadata, but shorter column names are far easier to work with in a computational environment.</p>
</div>
<div class="section" id="q1-complete-the-code-below-to-rename-the-columns">
<h2><strong>Q1</strong>: Complete the code below to rename the columns<a class="headerlink" href="#q1-complete-the-code-below-to-rename-the-columns" title="Permalink to this headline">¶</a></h2>
<p><em>Hint</em>: You can click-and-drag on the DataFrame printout above for a less error-prone way of giving the original column names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###</span>
<span class="c1"># TASK: Copy the original column names into the double-quote below</span>
<span class="c1">#       to complete the code and rename the columns with shorter</span>
<span class="c1">#       names.</span>
<span class="c1">###</span>

<span class="n">df_q1</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_tabula</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_rename</span><span class="p">(</span>

        <span class="n">obs_1</span><span class="o">=</span><span class="s2">&quot;No.&quot;</span><span class="p">,</span>
        <span class="n">area_1</span><span class="o">=</span><span class="s2">&quot;Area mm^2&quot;</span><span class="p">,</span>
        <span class="n">sigma_1</span><span class="o">=</span><span class="s2">&quot;sigma_d kg/mm^2&quot;</span><span class="p">,</span>
        <span class="n">obs_2</span><span class="o">=</span><span class="s2">&quot;No..1&quot;</span><span class="p">,</span>
        <span class="n">area_2</span><span class="o">=</span><span class="s2">&quot;Area mm^2.1&quot;</span><span class="p">,</span>
        <span class="n">sigma_2</span><span class="o">=</span><span class="s2">&quot;sigma_d kg/mm^2.1&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1">## NOTE: No need to edit, this will show your renamed data</span>
<span class="n">df_q1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>obs_1</th>
      <th>area_1</th>
      <th>sigma_1</th>
      <th>obs_2</th>
      <th>area_2</th>
      <th>sigma_2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>0.61</td>
      <td>14.0</td>
      <td>23.10</td>
      <td>0.58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.31</td>
      <td>0.60</td>
      <td>15.0</td>
      <td>21.91</td>
      <td>0.62</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>23.00</td>
      <td>0.50</td>
      <td>16.0</td>
      <td>23.23</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>14.18</td>
      <td>0.63</td>
      <td>17.0</td>
      <td>25.80</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>22.03</td>
      <td>0.48</td>
      <td>18.0</td>
      <td>20.68</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>22.79</td>
      <td>0.60</td>
      <td>19.0</td>
      <td>15.90</td>
      <td>0.59</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>28.88</td>
      <td>0.56</td>
      <td>20.0</td>
      <td>16.47</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>17.79</td>
      <td>0.59</td>
      <td>21.0</td>
      <td>18.75</td>
      <td>0.54</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>23.60</td>
      <td>0.60</td>
      <td>22.0</td>
      <td>17.91</td>
      <td>0.55</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>23.60</td>
      <td>0.52</td>
      <td>23.0</td>
      <td>25.55</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>28.51</td>
      <td>0.57</td>
      <td>24.0</td>
      <td>22.03</td>
      <td>0.48</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>25.93</td>
      <td>0.55</td>
      <td>25.0</td>
      <td>20.96</td>
      <td>0.47</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>22.97</td>
      <td>0.59</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Use the following to check your work:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NO NEED TO EDIT; use this to check your work</span>
<span class="k">assert</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">df_q1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s2">&quot;obs_1&quot;</span><span class="p">,</span> <span class="s2">&quot;area_1&quot;</span><span class="p">,</span> <span class="s2">&quot;sigma_1&quot;</span><span class="p">,</span> <span class="s2">&quot;obs_2&quot;</span><span class="p">,</span> <span class="s2">&quot;area_2&quot;</span><span class="p">,</span> <span class="s2">&quot;sigma_2&quot;</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Success!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Success!
</pre></div>
</div>
</div>
</div>
<p>Now the column names are much shorter, but we’ve</p>
</div>
<div class="section" id="q2-complete-the-data-dictionary-below-to-document-the-units-associated-with-the-short-column-names">
<h2><strong>Q2</strong>: Complete the <em>data dictionary</em> below to document the units associated with the short column names.<a class="headerlink" href="#q2-complete-the-data-dictionary-below-to-document-the-units-associated-with-the-short-column-names" title="Permalink to this headline">¶</a></h2>
<p><em>Note</em>: Weibull in his (1939) paper reports these stress values in units <code class="docutils literal notranslate"><span class="pre">kg</span> <span class="pre">/</span> <span class="pre">mm^2</span></code>. For the data to be sensible, his <code class="docutils literal notranslate"><span class="pre">kg</span></code> must refer to a kilogram-force, sometimes denoted <code class="docutils literal notranslate"><span class="pre">kgf</span></code>. One <code class="docutils literal notranslate"><span class="pre">kgf</span></code> is the force exerted by a kilogram in standard gravity (<code class="docutils literal notranslate"><span class="pre">g</span> <span class="pre">=</span> <span class="pre">9.8</span> <span class="pre">m/s^2</span></code>). We’ll convert to less strange units later!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tabula</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>No.</th>
      <th>Area mm^2</th>
      <th>sigma_d kg/mm^2</th>
      <th>No..1</th>
      <th>Area mm^2.1</th>
      <th>sigma_d kg/mm^2.1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>0.61</td>
      <td>14.0</td>
      <td>23.10</td>
      <td>0.58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.31</td>
      <td>0.60</td>
      <td>15.0</td>
      <td>21.91</td>
      <td>0.62</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>23.00</td>
      <td>0.50</td>
      <td>16.0</td>
      <td>23.23</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>14.18</td>
      <td>0.63</td>
      <td>17.0</td>
      <td>25.80</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>22.03</td>
      <td>0.48</td>
      <td>18.0</td>
      <td>20.68</td>
      <td>0.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Units</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">obs_1</span></code></p></td>
<td><p>(Unitless)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">area_1</span></code>,</p></td>
<td><p>mm^2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sigma_1</span></code></p></td>
<td><p>kgf / mm^2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">obs_2</span></code></p></td>
<td><p>(Unitless)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">area_2</span></code>,</p></td>
<td><p>mm^2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sigma_2</span></code></p></td>
<td><p>kgf / mm^2</p></td>
</tr>
</tbody>
</table>
<!-- solution-end --></div>
<div class="section" id="pivoting">
<h2>Pivoting<a class="headerlink" href="#pivoting" title="Permalink to this headline">¶</a></h2>
<p>(TODO Describe the “blocks”)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_q1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>obs_1</th>
      <th>area_1</th>
      <th>sigma_1</th>
      <th>obs_2</th>
      <th>area_2</th>
      <th>sigma_2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>0.61</td>
      <td>14.0</td>
      <td>23.10</td>
      <td>0.58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.31</td>
      <td>0.60</td>
      <td>15.0</td>
      <td>21.91</td>
      <td>0.62</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>23.00</td>
      <td>0.50</td>
      <td>16.0</td>
      <td>23.23</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>14.18</td>
      <td>0.63</td>
      <td>17.0</td>
      <td>25.80</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>22.03</td>
      <td>0.48</td>
      <td>18.0</td>
      <td>20.68</td>
      <td>0.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Imagine we wanted to compute some simple statistics on these data, say the mean of the stress values. Since the data come in two blocks, we have to access them separately:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sigma_mean_1</span> <span class="o">=</span> <span class="n">df_q1</span><span class="o">.</span><span class="n">sigma_1</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sigma_mean_2</span> <span class="o">=</span> <span class="n">df_q1</span><span class="o">.</span><span class="n">sigma_2</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean 1: </span><span class="si">{0:4.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sigma_mean_1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean 2: </span><span class="si">{0:4.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sigma_mean_2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean 1: 0.569
Mean 2: 0.529
</pre></div>
</div>
</div>
</div>
<p>We could do something hacky to combine the two:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sigma_mean_both</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span> <span class="o">*</span> <span class="n">sigma_mean_1</span> <span class="o">+</span> <span class="mi">11</span> <span class="o">*</span> <span class="n">sigma_mean_2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">12</span> <span class="o">+</span> <span class="mi">11</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean both: </span><span class="si">{0:4.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sigma_mean_both</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean both: 0.550
</pre></div>
</div>
</div>
</div>
<p>But it would be far easier if we could just <em>combine</em> all the relevant columns so they’re not in “blocks.” This is what <strong>pivoting</strong> a dataset allows us to do:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## NOTE: NO need to edit; you&#39;ll learn how to do this in the evening&#39;s notebook</span>
<span class="n">df_long</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_q1</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_pivot_longer</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;obs_1&quot;</span><span class="p">,</span> <span class="s2">&quot;area_1&quot;</span><span class="p">,</span> <span class="s2">&quot;sigma_1&quot;</span><span class="p">,</span> <span class="s2">&quot;obs_2&quot;</span><span class="p">,</span> <span class="s2">&quot;area_2&quot;</span><span class="p">,</span> <span class="s2">&quot;sigma_2&quot;</span><span class="p">],</span>
        <span class="n">names_to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;block&quot;</span><span class="p">],</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_arrange</span><span class="p">(</span><span class="n">DF</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df_long</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>block</th>
      <th>area</th>
      <th>obs</th>
      <th>sigma</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>1.0</td>
      <td>0.61</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>22.31</td>
      <td>2.0</td>
      <td>0.60</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>23.00</td>
      <td>3.0</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>14.18</td>
      <td>4.0</td>
      <td>0.63</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22.03</td>
      <td>5.0</td>
      <td>0.48</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1</td>
      <td>22.79</td>
      <td>6.0</td>
      <td>0.60</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1</td>
      <td>28.88</td>
      <td>7.0</td>
      <td>0.56</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1</td>
      <td>17.79</td>
      <td>8.0</td>
      <td>0.59</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>23.60</td>
      <td>9.0</td>
      <td>0.60</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1</td>
      <td>23.60</td>
      <td>10.0</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1</td>
      <td>28.51</td>
      <td>11.0</td>
      <td>0.57</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>25.93</td>
      <td>12.0</td>
      <td>0.55</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1</td>
      <td>22.97</td>
      <td>13.0</td>
      <td>0.59</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2</td>
      <td>23.10</td>
      <td>14.0</td>
      <td>0.58</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2</td>
      <td>21.91</td>
      <td>15.0</td>
      <td>0.62</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2</td>
      <td>23.23</td>
      <td>16.0</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2</td>
      <td>25.80</td>
      <td>17.0</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2</td>
      <td>20.68</td>
      <td>18.0</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2</td>
      <td>15.90</td>
      <td>19.0</td>
      <td>0.59</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2</td>
      <td>16.47</td>
      <td>20.0</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2</td>
      <td>18.75</td>
      <td>21.0</td>
      <td>0.54</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2</td>
      <td>17.91</td>
      <td>22.0</td>
      <td>0.55</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2</td>
      <td>25.55</td>
      <td>23.0</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2</td>
      <td>22.03</td>
      <td>24.0</td>
      <td>0.48</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2</td>
      <td>20.96</td>
      <td>25.0</td>
      <td>0.47</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="tidy-data">
<h2>Tidy Data<a class="headerlink" href="#tidy-data" title="Permalink to this headline">¶</a></h2>
<p>(TODO: Write up the principles of tidy data.)</p>
</div>
<div class="section" id="data-wrangling">
<h2>Data Wrangling<a class="headerlink" href="#data-wrangling" title="Permalink to this headline">¶</a></h2>
<p>(Part of data wrangling is screaming. Here’s an example trying to make sense of the plaster data.)</p>
<p>Weibull reports the <span class="math notranslate nohighlight">\(\sigma_d\)</span> values in <code class="docutils literal notranslate"><span class="pre">kg</span> <span class="pre">/</span> <span class="pre">mm^2</span></code>; if we interpret <code class="docutils literal notranslate"><span class="pre">kg</span></code> as a kilogram (mass) then these can’t be stress values! However, suppose for a moment that he were using <code class="docutils literal notranslate"><span class="pre">kg</span></code> to denote a kilogram-force, where <span class="math notranslate nohighlight">\(1 \text{kgf} = 1 \text{kg} \times 9.8 m/s^2\)</span>.</p>
<p>Weibull gives a summary value for the same stress in the more interpretable units <code class="docutils literal notranslate"><span class="pre">g</span> <span class="pre">/</span> <span class="pre">(cm</span> <span class="pre">s^2)</span></code>. Let’s check this hypothesis by comparing the proposed unit converstion with our data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (540 x 10^5 g/(cm s^2)) / (980 cm/s^2) * (kg / 1000 g) * (cm^2 / 100 mm^2)</span>
<span class="mf">540e5</span> <span class="o">/</span> <span class="mi">980</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5510204081632653
</pre></div>
</div>
</div>
</div>
<p>This is very near the <code class="docutils literal notranslate"><span class="pre">sigma</span></code> values we have in our dataset, which lends a great deal of credibility to our interpretation of <code class="docutils literal notranslate"><span class="pre">kg</span></code> as <code class="docutils literal notranslate"><span class="pre">kgf</span></code>. With this, we can make a unit conversation to more standard units.</p>
<div class="math notranslate nohighlight">
\[\text{kgf} / \text{mm}^2 = 9.8 \text{MPa}\]</div>
<div class="section" id="q3-convert-the-units-to-mpa">
<h3><strong>Q3</strong>: Convert the units to MPa.<a class="headerlink" href="#q3-convert-the-units-to-mpa" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">###</span>
<span class="c1"># TASK: Replace the 1.0 factor with the correct conversion factor</span>
<span class="c1">###</span>


<span class="n">df_q3</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_long</span>

    <span class="o">&gt;&gt;</span> <span class="n">gr</span><span class="o">.</span><span class="n">tf_mutate</span><span class="p">(</span><span class="n">sigma_MPa</span><span class="o">=</span><span class="n">DF</span><span class="o">.</span><span class="n">sigma</span> <span class="o">*</span> <span class="mf">9.8</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">df_q3</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>block</th>
      <th>area</th>
      <th>obs</th>
      <th>sigma</th>
      <th>sigma_MPa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.50</td>
      <td>1.0</td>
      <td>0.61</td>
      <td>5.978</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>22.31</td>
      <td>2.0</td>
      <td>0.60</td>
      <td>5.880</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>23.00</td>
      <td>3.0</td>
      <td>0.50</td>
      <td>4.900</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>14.18</td>
      <td>4.0</td>
      <td>0.63</td>
      <td>6.174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22.03</td>
      <td>5.0</td>
      <td>0.48</td>
      <td>4.704</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Zachary del Rosario<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>